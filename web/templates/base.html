<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ SITE_TITLE }}{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="{{ url_for('index') }}" class="logo">üì∞ {{ SITE_TITLE }} Admin</a>
            <div class="nav-links">
                <a href="{{ url_for('index') }}">Alle Artikel</a>
                <a href="{{ url_for('new_article') }}" class="btn btn-primary">‚úèÔ∏è Neuer Artikel</a>
                <a href="{{ url_for('reader_index') }}" class="btn btn-secondary">üëÅÔ∏è Reader-Ansicht</a>
                <div class="font-size-selector">
                    <button type="button" data-size="small">A</button>
                    <button type="button" data-size="medium" class="active">A</button>
                    <button type="button" data-size="large">A</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 {{ SITE_TITLE }} - Article Management System</p>
        </div>
    </footer>

    <script>
        // Font Size Selector functionality
        (function() {
            const fontSizeButtons = document.querySelectorAll('.font-size-selector button');
            const body = document.body;
            
            // Load saved font size from localStorage
            const savedSize = localStorage.getItem('fontSize') || 'medium';
            
            // Apply saved font size
            function applyFontSize(size) {
                // Remove all font size classes
                body.classList.remove('font-small', 'font-medium', 'font-large');
                // Add the selected class
                body.classList.add('font-' + size);
                
                // Update active button
                fontSizeButtons.forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.size === size) {
                        btn.classList.add('active');
                    }
                });
                
                // Save to localStorage
                localStorage.setItem('fontSize', size);
            }
            
            // Apply saved size on page load
            applyFontSize(savedSize);
            
            // Add click handlers
            fontSizeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const size = this.dataset.size;
                    applyFontSize(size);
                });
            });
        })();
    </script>
</body>
</html>
